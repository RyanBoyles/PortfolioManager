<!DOCTYPE HTML>
<html xmlns:th="http://thymeleaf.org">
<head>
	<title>Portfolio Manager: Stock View</title>
</head>

<body>
	<form action="/logout" method="get">
		<span>Not </span>
		<span th:text="${user.name}">Username</span>
		<span>?</span>
		<button>Logout</button>
	</form>
	
	<h1>Portfolio Manager: Stock View</h1>
	
	<form>
		<h3>Stock Summary:</h3>
		Number Of Shares: <span th:text="${accountRepo.findSharesByAccountStock(account.accountID.company, account.accountID.number, stock.stockID.exchange, stock.stockID.symbol)}">Unknown</span><br></br>
		Exchange: <span th:text="${stock.stockID.exchange}">Unknown</span><br></br>
		Symbol: <span th:text="${stock.stockID.symbol}">Unknown</span><br></br>
		Name: <span th:text="${stock.name}">Not Yet Populated</span><br></br>
		Last Price: <span th:text="${stock.lastPrice}">Not Yet Populated</span><br></br>
		Price Change: <span th:text="${stock.priceChange}">Not Yet Populated</span><br></br>
		Percent Change: <span th:text="${stock.percentChange}">Not Yet Populated</span><br></br>
	</form><br></br>
	<form th:action="@{/sessionkey={sessionKey}/userid={userid}/accountid={accountid}/stockid={stockid}/editstock(sessionKey=${sessionKey}, userid=${user.userID.hashCode()}, accountid=${account.accountID.hashCode()}, stockid=${stock.stockID.hashCode()})}" method="get">
		<button>Edit Stock Information</button>
	</form>
	<form th:action="@{/sessionkey={sessionKey}/userid={userid}/accountid={accountid}/stockid={stockid}/deletestock(sessionKey=${sessionKey}, userid=${user.userID.hashCode()}, accountid=${account.accountID.hashCode()}, stockid=${stock.stockID.hashCode()})}" method="get">
		<button>Delete Stock</button>
	</form>
	
	<h3>Similar Stocks:</h3>
	<div th:each="similarStock : ${similarStockFinder.getSimilarStocks(stockRepo, stock.stockID.symbol, stock.lastPrice, stock.stockID.exchange)}">
		Exchange: <span th:text="${similarStock.stockID.exchange}">Unknown</span><br></br>
		Symbol: <span th:text="${similarStock.stockID.symbol}">Unknown</span><br></br>
		Name: <span th:text="${similarStock.name}">Not Yet Populated</span><br></br>
		Last Price: <span th:text="${similarStock.lastPrice}">Not Yet Populated</span><br></br>
		Price Change: <span th:text="${similarStock.priceChange}">Not Yet Populated</span><br></br>
		Percent Change: <span th:text="${similarStock.percentChange}">Not Yet Populated</span><br></br><br></br>
	</div>
	
	<form th:action="@{/sessionkey={sessionKey}/userid={userid}/accountid={accountid}(sessionKey=${sessionKey}, userid=${user.userID.hashCode()}, accountid=${account.accountID.hashCode()})}" method="get">
		<button>Return to Account Screen</button>
	</form>
</body>
</html>